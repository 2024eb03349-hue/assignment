#!/bin/bash

INPUT_FILE="input.txt"

# Check if input file exists
if [ ! -f "$INPUT_FILE" ]; then
    echo "Error: $INPUT_FILE not found."
    exit 1
fi

# Read file content and process words
CONTENT=$(cat "$INPUT_FILE")

# Remove punctuation and convert to lowercase
WORDS=$(echo "$CONTENT" | tr '[:upper:]' '[:lower:]' | tr -s '[:punct:]' ' ' | tr -s ' ' '\n' | sort)

# Get unique words
UNIQUE_WORDS=$(echo "$WORDS" | sort | uniq | wc -l)

# Find longest and shortest words
LONGEST=$(echo "$WORDS" | awk 'length > max {max = length; longest = $0} END {print longest}')
SHORTEST=$(echo "$WORDS" | awk 'NR==1 {min=length; shortest=$0} length < min && length > 0 {min=length; shortest=$0} END {print shortest}')

# Calculate average word length
TOTAL_CHARS=$(echo "$WORDS" | wc -c)
TOTAL_WORDS=$(echo "$WORDS" | wc -w)
AVG_LENGTH=$(echo "scale=2; ($TOTAL_CHARS - $TOTAL_WORDS + 1) / $TOTAL_WORDS" | bc)

echo "Text Analysis Results:"
echo "======================"
echo "Longest word: $LONGEST"
echo "Shortest word: $SHORTEST"
echo "Average word length: $AVG_LENGTH"
echo "Total unique words: $UNIQUE_WORDS"
